{
  "part": "Week 2",
  "objective": "Behave like a real terminal: scrollback ring, selection & copy, incremental search, stability & perf.",
  "tasks": [
    "Implement scrollback ring (configurable MB) with efficient slices.",
    "Mouse hit-testing (grapheme-aware): single, word, line, rectangular selection.",
    "Copy to clipboard (plain + ANSI).",
    "Incremental search in scrollback (regex-automata or Tantivy for later global search).",
    "Dirty-rect rendering: only redraw changed regions; idle frame-skip.",
    "Robust resize: maintain cursor visibility; correct ED/CUP behavior.",
    "Add tracing spans: pty.bytes_read, grid.advance, redraw.requested, present.ok."
  ],
  "tests": [
    "Golden snapshot for selection boundaries across CJK/emoji.",
    "Regex search finds matches in long scrollback; performance budget < 20ms for 10k lines.",
    "Dirty-rect test: idle has zero presents for 2s; typing triggers present."
  ],
  "links_additional": [
    "https://docs.rs/unicode-segmentation/latest/unicode_segmentation/",
    "https://docs.rs/regex-automata/latest/regex_automata/"
  ],
  "after_completion_git": [
    "git add .",
    "git commit -m \"Week 2: scrollback, selection, search, dirty-rects, stability\"",
    "git push"
  ]
}
